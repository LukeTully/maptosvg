!function(a){function b(a,b){return a.getAttribute(b)}function c(a){if(currentMapId=a.attributes.getNamedItem("usemap").value)return k=document.querySelector(currentMapId),k?k:(console.log(o.noMap),!1)}function d(a){if(!(sh=a.attributes.getNamedItem("shape").value))return!1;switch(sh){case"rect":return sh;case"rectangle":return"rect";case"poly":return sh;case"polygon":return"poly";case"circ":return sh;case"circle":return"circ"}o.push({error:"Invalid Shape",node:a})}function e(a,b,c){var d,e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("xmlns","http://www.w3.org/2000/svg"),e.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),e.setAttributeNS(null,"viewBox","0 0 "+a+" "+b),e.classList.add("mapped-svg");for(var g,h=c.length-1;h>0;h--){switch(c[h].type){case"rect":g=document.createElementNS("http://www.w3.org/2000/svg","rect"),g.setAttributeNS(null,"width",c[h].width),g.setAttributeNS(null,"height",c[h].height),g.setAttributeNS(null,"x",c[h].x),g.setAttributeNS(null,"y",c[h].y),g.classList.add("map-area-rect");break;case"poly":g=document.createElementNS("http://www.w3.org/2000/svg","polygon"),g.setAttributeNS(null,"points",c[h].points)}d=f(c[h]),d?(d.appendChild(g),e.appendChild(d)):e.appendChild(g)}return e}function f(a){if(a.href&&a.href.length>0){var b=document.createElementNS("http://www.w3.org/2000/svg","a");return b.setAttributeNS("http://www.w3.org/1999/xlink","href",a.href),b}return!1}function g(a){var b,c,d,e={};if(b=a.attributes.getNamedItem("coords").value,b.length<1)return"Coordinate count is too short";if(null!==b.match(/[\ ]/))return b;c=b.split(","),d=c[0];for(var f=1;f<c.length;f++)d+=f%2===0?" ":",",d+=c[f];e.points=d,e.type="poly";var g=i(a);return g&&(e.href=g),e}function h(a){function b(){if(h.length>4)throw"This is not a rectangle, it has "+h.length+"vertices";return h[3]-h[1]}function c(){if(h.length>4)throw"This is not a rectangle, it has "+h.length+"vertices";return h[2]-h[0]}var d,e,f,g;f=a.attributes.getNamedItem("coords").value;var h=[];f&&(h=f.split(",")),d=c(),e=b();var j={x:h[0],y:h[1],width:d,height:e,type:"rect"};return g=i(a),g&&(j.href=g),j}function i(a){if((a&"area"==a.nodeName||"AREA"==a.nodeName)&&a.href&&a.href.length>0)return a.href}function j(a){var b=d(a);switch(b){case"rect":return h(a);case"circ":case"poly":return g(a)}}var k,l,m,n=[],o={noID:"No image ID was provided",noAreas:"No areas were found",noMap:"No map was found for this image",noImage:"The image with the given ID does not exist"},p=function(a){if(!a)return o.noID;if(m=document.getElementById(a),!m)return o.noImage;if(!(k=c(m)))return!1;if(l=k.getElementsByTagName("area"),l.length<1)return o.noAreas;for(var d=0;d<l.length;d++)n.push(j(l[d]));return e(b(m,"width"),b(m,"height"),n)};window.SVGM||(window.SVGM=p)}(Window);